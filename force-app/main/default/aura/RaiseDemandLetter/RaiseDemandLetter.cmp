<aura:component controller="DemandCalculatonController" implements="flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,force:lightningQuickAction,force:lightningQuickActionwithoutHeader" access="global" >
    <aura:attribute name="bookingRecord" type="Object" />
    <aura:attribute name="recordId" type="String" />
    <aura:attribute name="vfPageUrl" type="String" />
    <aura:attribute name="emailContent" type="String" />
    <aura:attribute name="invoiceNumber" type="Decimal" />
    <aura:attribute name="filesIDS" type="List" />
    <aura:attribute name="visible" type="Boolean" />
    <aura:attribute name="isDemanded" type="Boolean" default="false"/>
    <aura:attribute name="isPostOC" type="Boolean" default="false"/>
    
    <aura:attribute name="recordIdsList" type="List" />
    <aura:attribute name="emailContentMap" type="Map" />
    <aura:attribute name="contentDocumentIdsMap" type="Map" />
    <aura:attribute name="invoiceNumberMap" type="Map" />
    
    <aura:registerEvent name="raiseDemandEvent" type="c:RaiseDemandEvent"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:handler name="fileUploadEvent" event="c:fileUploadEvent" action="{!c.handleFileUpload}" />
    
    <aura:html tag="style">
        @media (min-width: 48em) {
        .slds-modal__container {
        margin: 0 auto;
        width: 100%;
        max-width: 60%;
        min-width: 20rem;
        }
        }
        .cuf-content {
        padding: 0 0rem !important;
        }
        .slds-p-around--medium {
        padding: 0rem !important;
        }
        .slds-modal__content{
        
        height:unset !important;
        max-height:unset !important;
        }
        
        .closeIcon{
        display:none;
        }
        .slds-col{
        margin-left:5px;
        }
    </aura:html >
    
    <header class="slds-modal__header">
        <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Generate Demand</h2>
    </header>
    <div class="slds-p-around_medium cust-ht ">
        <div class="slds-p-left_small slds-size_1-of-1 slds-p-bottom_small">
            <span>
                <lightning:inputRichText class="custom-textarea" aura:id="emailContent"
                                         placeholder="Review and edit email content"
                                         value="{!v.emailContent}"   />
                <!-- <c:photoUploadComponent recordId="{!v.recordId}" filesIds="{!v.filesIDS}" />-->
            </span>
        </div>
        <div class="slds-col slds-size_1-of-1">
            <div class="slds-form__row slds-p-bottom_small">
                <div class="slds-form__item" role="listitem">
                    <lightning:input type="number" class="slds-form-element_horizontal" name="scheduleNumber" aura:id="invNum" value="{!v.invoiceNumber}" label="Invoice Number" required="true" placeholder="type here..."/>
                </div>
                <div class="slds-form__item" role="listitem">
                </div>
            </div>
        </div>
        <div class="slds-col slds-size_1-of-1">
            <span>            
                <iframe src="{!v.vfPageUrl}" width="100%" height="520px;" frameBorder="0" />
            </span>
        </div>
    </div>
    <div class="slds-modal__footer">
        <button class="slds-button slds-button_neutral" onclick="{!c.close}">Cancel</button>
        <button class="slds-button slds-button_brand" disabled="{!v.isDemanded}" onclick="{!c.send}">Send Demand</button>
    </div>
</aura:component>