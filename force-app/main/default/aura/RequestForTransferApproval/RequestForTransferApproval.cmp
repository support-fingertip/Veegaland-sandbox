<aura:component controller="BookingController" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction,force:lightningQuickActionwithoutHeader" access="global">
    <aura:attribute name="showPrompt" type="Boolean" default="true"/>
    <aura:attribute name="spinner" type="Boolean" default="false"/>
    <aura:attribute name="cancellationCharges" type="Decimal" default="0"/>
    <aura:attribute name="postAgreementCancellation" type="Boolean" default="false"/>
    <aura:attribute name="originalAgreementCollected" type="Boolean" default="false"/>
    
    <aura:attribute name="selectedPlot" type="Id"/>
    <aura:attribute name="plotList" type="List"/>
    <aura:attribute name="query" type="String" default=""/>
    <aura:attribute name="projectId" type="Id" />
    <aura:attribute name="recordId" type="Id" />
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    
    <aura:html tag="style">
        .slds-modal__container{ 
        } 
        
        .cuf-content {
        padding: 0 0rem !important;
        }
        .slds-p-around--medium {
        padding: 0rem !important;
        }
        .slds-modal__content{
        
        height:unset !important;
        max-height:unset !important;
        }
        .slds-modal__footer{
        border-top-style: none !important;
        }
        .closeIcon{
        display:none;
        }
        .slds-col{
        margin-left:5px;
        }
    </aura:html >
    

    <aura:if isTrue="{!v.showPrompt}">
         <header class="slds-modal__header">
        <lightning:buttonIcon iconName="utility:close"
                              onclick="{! c.closeModel }"
                              alternativeText="close"
                              variant="bare-inverse"
                              class="slds-modal__close"/>
        <h2 id="modal-heading-01" class="slds-text-heading_small slds-hyphenate">Request for Unit Transfer</h2>
        </header>
        <div class="slds-p-horizontal_medium cust-ht">
            <h2 class="slds-p-around_small slds-text-align_center">Would you like to request a unit transfer for this booking?</h2>
            <div class="slds-p-around_large">
                <c:Global_Lookup_Custom selectedId="{!v.selectedPlot}" iconName="custom:custom50" additionalFields="BHK_Type__c" objectName="Plot__c" fieldName="Name" query="{!v.query}" ></c:Global_Lookup_Custom>
            </div>
        </div>
        <div class="slds-text-align_center slds-modal__footer slds-theme_default">
            <lightning:button  label="Cancel" title="Brand action" onclick="{!c.closeModel}" />
        <lightning:button variant="brand" label="Request" title="Brand action" onclick="{!c.sendRequest}" disabled="{!empty(v.selectedPlot)}" />

    </div>
    
    <div>
        <aura:if isTrue="{!v.spinner}">
            <lightning:spinner class="spins" size="large" variant="brand" alternativeText="Loading" />
        </aura:if>
    </div>
    </aura:if>
</aura:component>