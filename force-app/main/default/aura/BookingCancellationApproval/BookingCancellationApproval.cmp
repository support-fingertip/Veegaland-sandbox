<aura:component controller="BookingController" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction,force:lightningQuickActionwithoutHeader" access="global">
    <aura:attribute name="showPrompt" type="Boolean" default="true"/>
    <aura:attribute name="spinner" type="Boolean" default="false"/>
    <aura:attribute name="cancellationCharges" type="Decimal" default="0"/>
    <aura:attribute name="postAgreementCancellation" type="Boolean" default="false"/>
    <aura:attribute name="originalAgreementCollected" type="Boolean" default="false"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />

    <aura:html tag="style">
        .slds-modal__container{ 
        } 
        
        .cuf-content {
        padding: 0 0rem !important;
        }
        .slds-p-around--medium {
        padding: 0rem !important;
        }
        .slds-modal__content{
        
        height:unset !important;
        max-height:unset !important;
        }
        .slds-modal__footer{
        border-top-style: none !important;
        }
        .closeIcon{
        display:none;
        }
        .slds-col{
        margin-left:5px;
        }
    </aura:html >
    

    <aura:if isTrue="{!v.showPrompt}">
         <header class="slds-modal__header">
        <lightning:buttonIcon iconName="utility:close"
                              onclick="{! c.closeModel }"
                              alternativeText="close"
                              variant="bare-inverse"
                              class="slds-modal__close"/>
        <h2 id="modal-heading-01" class="slds-text-heading_small slds-hyphenate">Request for Booking Cancellation</h2>
        </header>
        <div class="slds-p-horizontal_medium cust-ht">
            <h2>Would you like to request a cancellation for this booking?</h2>
            <div class="slds-p-around_large">
                <lightning:input label="Cancellation Charges" value="{!v.cancellationCharges}" />
                
                <lightning:input type="checkbox" label="Post Agreement Cancellation" name="postAgreement" checked="{!v.postAgreementCancellation}" onchange="{!c.handleCheckboxChange}" />
                
                <aura:if isTrue="{!v.postAgreementCancellation}">
                    <lightning:input type="checkbox" label="Original Agreement Collected" name="originalCollected" checked="{!v.originalAgreementCollected}" />
                </aura:if>
            </div>
        </div>
        <div class="slds-text-align_center slds-modal__footer slds-theme_default">
            <lightning:button  label="Cancel" title="Brand action" onclick="{!c.closeModel}" />
        <lightning:button  variant="brand" label="Request" title="Brand action" onclick="{!c.sendRequest}" />
    </div>
    
    <div>
        <aura:if isTrue="{!v.spinner}">
            <lightning:spinner class="spins" size="large" variant="brand" alternativeText="Loading" />
        </aura:if>
    </div>
    </aura:if>
</aura:component>