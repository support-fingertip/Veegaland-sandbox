<aura:component controller="MergeLeadController" implements="force:lightningQuickActionWithoutHeader,lightning:actionOverride,force:hasRecordId,lightning:isUrlAddressable" access="global">
    <!--Style-->
    <aura:html tag="style">
        .slds-modal__container{
        height : auto;
        width: 85%;
        max-width: 85rem;
        }
        
        .slds-modal__content{
        overflow-y:hidden !important;
        height:unset !important;
        max-height:unset !important;
        }
        .modal-body{
        
        /*height : 500px !important;*/
        /* max-height: 500px !important;*/
        }
        
        
    </aura:html> 
    <!--Attributes-->
    <aura:attribute name="Lead" type="List" />
    <aura:attribute name="showLeads" type="Boolean" default="true"/>
    <aura:attribute name="selectedLeadList" type="List" />
    <aura:attribute name="LeadList" type="List" />
    <aura:attribute name="selectedIdList" type="List" />
    <aura:attribute name="isSelectAll" type="boolean" default="false"/>
    <aura:attribute name="LeadCollection" type="List" />
    <aura:attribute name="selectedRowsCount4" type="Integer" default="0"/>
    <aura:attribute name="mycolumns3" type="List"/>
    <aura:attribute name="leads" type="Lead[]" />
    <aura:attribute name="selectedRows" type="List" default="[]"/>
    <aura:attribute name="selectedLead" type="List" default="[]"/>
    
    
    
    
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" /> 
    
    <div class="modal-header slds-modal__header slds-size_1-of-1">
        <h4 class="title slds-text-heading--medium">Merge Leads</h4>
    </div>
    
    <div>
        <lightning:card  >
            <lightning:tabset  >
                <lightning:tab label="Select Lead" >
                    <div class="slds-m-around_medium" >
                        <aura:if isTrue="{!v.showLeads}">
                            <div>
                                
                                <lightning:input type="text" name="searchKey" label=""
                                                 aura:id="searchKeyLead" onchange="{!c.searchLead}" placeholder="Please Enter Minimum 5 Character for Search Leads...!" />  
                            </div>  
                            
                            
                        </aura:if>
                        
                        <aura:if isTrue="{!v.showLeads}">
                            <aura:if isTrue="{!and(v.leads != '',v.leads != null)}">
                                <div style="background-color:white;">
                                    <center><h1 class="slds-text-align_center slds-text-heading_medium"><span style="color:maroon;"><b>Leads</b></span></h1></center>
                                    
                                </div>
                                
                                <div style="height: 200px"> 
                                    <h1>Selected leads: {! v.selectedRowsCount4 }</h1>
                                    <lightning:datatable aura:id="lgtngCmp"
                                                         keyField="id"
                                                         data="{!v.LeadCollection }"
                                                         columns="{! v.mycolumns3 }"
                                                         onrowaction="{!c.handleRowAction3 }"
                                                         onrowselection="{! c.updateSelectedText4 }"
                                                         selectedRows="{!v.selectedRows}"/>
                                    
                                </div>
                                
                            </aura:if>
                            <br/>
                            
                            <div class="slds-text-align_center">
                                <button class="slds-button slds-button--brand" onclick="{!c.docancel}" >cancel</button>
                                <aura:if isTrue="{!(v.selectedRowsCount4 != 0)}">
                                    <button class="slds-button slds-button--brand" onclick="{!c.MergeLead}" >Merge Lead</button>
                                </aura:if>
                            </div>
                        </aura:if>
                        
                    </div>
                    
                </lightning:tab>
                
            </lightning:tabset>
            
            
        </lightning:card>
    </div>
     <lightning:navigation aura:id="navService"/>
</aura:component>